3) API (côté serveur – contrat simple)

Endpoints (exemple REST ; adapte à tes gateways HTTP/SDK) :

POST /posts/{postId}/comments

body: { body, draftId? }

returns: { id, postId, body, createdAt, updatedAt, status }

PATCH /comments/{id} (ou PUT)

body: { body, version? } (optimistic concurrency si tu veux ETag/If-Match)

returns updated comment

DELETE /comments/{id}

returns { id, status: "deleted", updatedAt }

GET /posts/{postId}/comments?cursor=...&limit=...&since=ISO

returns: { items: CommentDTO[], nextCursor?: string, serverTime: ISO }

Idempotence : le serveur peut accepter Idempotency-Key: commandId ou draftId pour les créations.
Versioning : optionnel, utile pour rejeter une édition obsolète (409 Conflict).