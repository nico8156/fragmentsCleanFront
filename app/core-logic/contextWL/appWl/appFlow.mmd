%% App lifecycle flow (mermaid)
%%{init: {"theme": "neutral"}}%%
flowchart TD
    BootIntent[[AppInitializer / NetInfo]] -->|dispatch| Boot(appBootRequested)
    Boot --> Listener(runtimeListenerFactory)
    Listener --> Hydration[appHydrationDone]
    Listener --> Warmup[coffeeGlobalRetrieval + entitlementsRetrieval]
    Warmup --> Ready[appWarmupDone + appBootSucceeded]
    Ready --> Reducer(appReducer)
    Reducer --> State[AppRuntimeState]
    State --> Triggers[appBecameActive / appConnectivityChanged]
    Triggers --> Outbox(outboxProcessOnce)
